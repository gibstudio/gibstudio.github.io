<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Integration of Cordova into a native iOS project | Genie in a Bottle</title>
    <meta name="generator" content="GravCMS" />
<meta name="author" content="Iaroslav Veikov (Yaroslav Veykov)" />
<meta name="description" content="A small mobile team founded by a group of like-minded people with extensive experience in development of Android and iOS applications, with great interest in game development etc." />
<meta name="keywords" content="mobile development, mobile programming, ios development, ios apps, iphone development, ipad development, android development, android apps, genie in a bottle, Yaroslav Veykov, Iaroslav Veikov" />
<meta name="geo.position" content="44.81489232206759, 20.44794522261786" />
<meta name="geo.placename" content="Belgrade, Serbia" />
<meta name="geo.region" content="ru" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" type="image/png" href="../user/themes/freematter/images/favicon.png" />
    <link rel="canonical" href="https://gibstudio.github.io/integration-of-cordova-into-a-native-ios-project.html" />

                                                    
                        <link href="../user/themes/freematter/css/pure-0.5.0/grids-min.css" type="text/css" rel="stylesheet" />
<link href="../user/themes/freematter/css-compiled/nucleus.css" type="text/css" rel="stylesheet" />
<link href="../user/themes/freematter/css-compiled/template.css" type="text/css" rel="stylesheet" />
<link href="../user/themes/freematter/css/font-awesome.min.css" type="text/css" rel="stylesheet" />
<link href="../user/plugins/markdown-notices/assets/notices.css" type="text/css" rel="stylesheet" />
<link href="../user/plugins/breadcrumbs/css/breadcrumbs.css" type="text/css" rel="stylesheet" />
<link href="../user/plugins/form/assets/form-styles.css" type="text/css" rel="stylesheet" />
<link href="../user/plugins/langswitcher/css/langswitcher.css" type="text/css" rel="stylesheet" />
<link href="../user/plugins/simplesearch/css/simplesearch.css" type="text/css" rel="stylesheet" />
<link href="../user/plugins/highlight/css/default.css" type="text/css" rel="stylesheet" />
<link href="../user/plugins/login/css/login.css" type="text/css" rel="stylesheet" />
<link href="../user/themes/freematter/css/slidebars.min.css" type="text/css" rel="stylesheet" />


                                            <script src="../system/assets/jquery/jquery-2.1.4.min.js" type="text/javascript" ></script>
<script src="../user/themes/freematter/js/modernizr.custom.71422.js" type="text/javascript" ></script>
<script src="../user/plugins/highlight/js/highlight.pack.js" type="text/javascript" ></script>
<script src="../user/themes/freematter/js/antimatter.js" type="text/javascript" ></script>
<script src="../user/themes/freematter/js/slidebars.min.js" type="text/javascript" ></script>

<script>
$(document).ready(function() {
                    $('pre code').each(function(i, block) {
                        hljs.highlightBlock(block);
                    });
                 });

</script>


</head>
<body id="top" class="">
    <div id="sb-site">
                <header id="header">
            <div id="logo">
                <h3><a href="../index.html"><i class="fa fa-flask"></i></a></h3>
            </div>
            <div id="navbar">
                                
                					<ul class="langswitcher">


                    
	    
	
    <li><a href="integration-of-cordova-into-a-native-ios-project.html" class="external active">English</a></li>


                    
	    
	
    <li><a href="../ru/blog/integration-of-cordova-into-a-native-ios-project.html" class="external">Русский</a></li>

</ul>
                                
                					
<ul class="navigation">
                                    <li class="">
                <a href="../index.html">
                                        Home
                </a>
            </li>
                                <li class="active">
                <a href="../blog.html">
                                        Blog
                </a>
            </li>
                                <li class="">
                <a href="../privacy-policy.html">
                                        Privacy Policy
                </a>
            </li>
                                <li class="">
                <a href="../berryboom.html">
                                        Berry Boom!
                </a>
            </li>
                                <li class="">
                <a href="../turbofinger.html">
                                        Turbofinger
                </a>
            </li>
                                <li class="">
                <a href="../fingertron.html">
                                        Fingertron
                </a>
            </li>
                    </ul>

                                <span class="panel-activation sb-toggle-left navbar-left menu-btn fa fa-bars"></span>
            </div>
        </header>
        
        
                <section id="body" class="">
            					
<div id="breadcrumbs" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
                                            <a href="../index.html" itemprop="url"><span itemprop="title">Home</span></a>
                        <i class="fa fa-angle-right"></i>
                                                <a href="../blog.html" itemprop="url"><span itemprop="title">Blog</span></a>
                        <i class="fa fa-angle-right"></i>
                                                <span itemprop="title">Integration of Cordova into a native iOS project</span>
                        </div>
				
		<div class="blog-content-item grid pure-g-r">
			<div id="item" class="block pure-u-2-3 h-entry">
			    <div class="list-item h-entry">

                
    <div class="list-blog-header">
        <span class="list-blog-date">
            <time class="dt-published" datetime="2018-01-08T19:00:00+03:00">
                <span>08</span>
                <em>Jan</em>
            </time>
        </span>
                    				<h2 class="p-name">Integration of Cordova into a native iOS project</h2>
			        
                <span class="tags">
                        <a href="./tag:ios.html" class="p-category">ios</a>
                        <a href="./tag:cordova.html" class="p-category">cordova</a>
                        <a href="./tag:swift.html" class="p-category">swift</a>
                        <a href="./tag:webview.html" class="p-category">webview</a>
                        <a href="./tag:hybrid%20apps.html" class="p-category">hybrid apps</a>
                        <a href="./tag:development.html" class="p-category">development</a>
                    </span>
                                                                    
            				<img src="../images/1/b/2/0/3/1b203cc86570f3a6644d694f85615936d96d664e-header.png" />
			        
    </div>

    <div class="list-blog-padding">

            <div class="e-content">
            <p><strong><em>Disclaimer: it is the translation of my article that was written in Russian some time ago. All mentioned versions of software might be outdated now. But anyway, it can be helpful :).</em></strong></p>
<p>Continuing the small series of posts "<a href="https://habrahabr.ru/post/308538">Crosswalk Project — a replacement for Android WebView</a>", it makes sense to solve a similar task for iOS. Cordova project was choosen as the base layer for integration because it has a bigger feature list and fit better for the current task.</p>

<p>Both solutions Cordova and Crosswalk are based on WKWebView in the version for iOS. Because of this fact, it is not an honest replacement for system WebView but just an extension.</p>
<p>The main language of a test project is Swift but for any project based on Objective-C all steps will be similar. However, there is no need to do the latest step for adaptaion of a Cordova project for using with Swift.</p>
<p><strong>NB!</strong> Crosswalk project has <a href="https://crosswalk-project.org/documentation/ios/quick_start_guide.html">a simple guide</a> where are listed all necessary steps how to integrate it with help of Cocoa Pods and how to use the major <a href="https://crosswalk-project.org/documentation/ios/cordova_plugin_support.html">Cordova plugins</a> with possibility of their extension.</p>
<p>There are 2 options for integration of Cordova to your application:</p>
<ul>
<li>Manual integration</li>
<li>Integration with help of Cocoa Pods</li>
</ul>
<p><strong>NB!</strong> Actually, there is one more simple option. You will get a working Xcode project when you set up of the environment for Cordova. This project can be used separately from Cordova for further development but you should know that this project is written on Objective-C.</p>
<h3>Manual integration of Cordova</h3>
<p>Firstly, I am going to show the first option and add Cordova with necessary components manually. This option a little bit harder but more flexible and allow to use the latest versions of cordova-ios and plugins regardless of pod's creators.</p>
<p>My work environment looks like this:</p>
<ul>
<li>Xcode 8.3.2, Swift 3.1</li>
<li>Cordova 7.0.1, <a href="http://cordova.apache.org/announcements/2017/04/26/ios-release.html">Cordova iOS 4.4.0</a></li>
<li>MacPorts 2.4.1</li>
<li>npm 4.6.1</li>
</ul>
<h4>Setting the environment</h4>
<p>Initially, you need to install and configure Cordova project itself and a few of necessary utilities. Installation is quite simple and described in details in <a href="http://cordova.apache.org/#getstarted">Cordova documentation</a>. I will stop on a few steps which are important for the demo project.</p>
<p><strong>1. Install the package manager npm</strong> which will help us to install Cordova itself and essential plugins (to install npm I have used another package management system called MacPorts):</p>
<pre><code class="language-bash">sudo port install npm4</code></pre>
<p><strong>2. Install Cordova project:</strong></p>
<pre><code class="language-bash">sudo npm install -g cordova</code></pre>
<p>You can install cordova-ios only in the same way:</p>
<pre><code class="language-bash">sudo npm install -g cordova-ios</code></pre>
<p>Thica can be helpful if you are not going to work with different platforms. However, it will be less comfortable to use <a href="http://cordova.apache.org/docs/en/latest/guide/platforms/ios/index.html#platform-centered-workflow">commands in console</a> in that case. For instance, you have to type:</p>
<pre><code class="language-bash">cordova-ios/bin/create</code></pre>
<p>instead of of a short version of the command:</p>
<pre><code class="language-bash">cordova create</code></pre>
<p><strong>NB!</strong> All packages which are installed with help of npm can be located in this directory: <em>/opt/local/lib/node_modules/</em>.</p>
<p><strong>3. The next step is to create the test Cordova project and add target iOS platform</strong>:</p>
<pre><code class="language-bash">cordova create cordova_full
cd cordova_full/
cordova platform add ios</code></pre>
<p>All necessary files will be placed into the directory <em>cordova_full/platforms/ios/</em>. An equivalent set with minimal differences can be gotten if you prefer to use cordova-ios.</p>
<p><strong>NB!</strong> You can choose the application name and the bundle identifier when set up the project. More details are given in Cordova documentation.</p>
<p><strong>4. Additionally, you can install plugman utility to work with Cordova plugins</strong>:</p>
<pre><code class="language-bash">sudo npm install -g plugman</code></pre>
<p><strong>5. For the purposes of the test project I am going to install 2 specific plugins to support work with console and status bar</strong>. It will be very helpful for debugging etc. To install these Cordova plugins you have to change current directory to iOS resources directory and run 2 commands in console:</p>
<pre><code class="language-bash">plugman install --platform ios --project . --plugin cordova-plugin-console
plugman install --platform ios --project . --plugin cordova-plugin-statusbar</code></pre>
<p><strong>NB!</strong> For those who want to build an app based on <a href="http://ionicframework.com/">Ionic Framework</a> and use its projects templates — you can do all the same steps.</p>
<h4>Creating the project</h4>
<p><strong>1. Tabbed Application from Xcode</strong> was choosen as the base for the test project. This test project can be found on <a href="https://github.com/yaroslav-v/cordova-embedded-ios">github</a> with all related resources.</p>
<p>The requirements are Cordova iOS 4.4.0, iOS 9.0 and above.</p>
<p><strong>2. Move necessary resources to the test project</strong>:</p>
<ul>
<li>the directory with CordovaLib <em>cordova_full/platforms/ios/CordovaLib/</em></li>
<li>the directory with installed plugins <em>cordova_full/platforms/ios/HelloCordova/Plugins/</em></li>
<li>Cordova configuration file <em>cordova_full/platforms/ios/HelloCordova/config.xml</em></li>
<li>the directory with resources for the web-applciation <em>cordova_full/platforms/ios/www/</em></li>
</ul>
<p><strong>NB!</strong> Check the settings of the Xcode project when you added CordovaLib. Remove CordovaLib files in the tab Build Phases → Compile Sources to resolve building conflict.</p>
<p><strong>NB!</strong> When you are adding the directory <em>www/</em> you must use option "Create folder references" to let resources be placed in the default way for Cordova.</p>
<p><strong>3. The next task is to set up the test project for successful building</strong>:</p>
<ul>
<li>add flag -ObjC to Build Settings → Other Linker Flags</li>
<li>add the following paths to Build Settings → Header Search Paths</li>
</ul>
<pre><code class="language-cpp">"$(TARGET_BUILD_DIR)/usr/local/lib/include"
"$(OBJROOT)/UninstalledProducts/include"
"$(OBJROOT)/UninstalledProducts/$(PLATFORM_NAME)/include"
"$(BUILT_PRODUCTS_DIR)"</code></pre>
<ul>
<li>add CordovaLib to Build Phases → Target Dependencies</li>
<li>add libCordova.a to Build Phases → Link Binaries with Libraries</li>
</ul>
<p><strong>NB!</strong> You have to add the whole string with with quotes to Header Search Paths.</p>
<p>Your setup is complete now if you are creating Objective-C project.</p>
<p><strong>4. Adaptation for Swift</strong>. Cordova iOS project is implemented initially in Objective-C programming language and there are no known plans regarding porting to Swift for this moment. There exist <a href="https://github.com/masahirosuzuka/cordova.swift">an unofficial port</a> but it is not done yet.</p>
<p>However, there does not exist conceptual issue to use Cordova in the project where used Swift programming language. It is just necessary to add Bridging Header to connect Swift world with Objective-C universe.</p>
<p>Just create .h file (for example, Bridging-Header.h) in the test project to achieve that:</p>
<pre><code class="language-cpp">#ifndef Bridging_Header_h
#define Bridging_Header_h

#import "CDVViewController.h"

#endif /* Bridging_Header_h */</code></pre>
<p>In addition, add the path where it is placed to Build Settings -&gt; Objective-C Bridging Header:</p>
<pre><code class="language-cpp">CordovaEmbedded/Libraries/Bridging-Header.h</code></pre>
<p><strong>5. Finally, we can use Cordova WebView</strong>. For example, create <em>SecondViewController</em> which extends <em>CDVViewController</em> instead of <em>UIViewController</em>. So the second tab in the test application will be replaced with an fully featured Cordova application.</p>
<p><strong>6. A few words abour Cordova plugins</strong>. Initially we added 2 plugins:</p>
<ul>
<li>to show debug messages in Xcode console</li>
<li>towork with system status bar</li>
</ul>
<p>The first plugin gives us ability to render messages in Xcode debug console in a proper way like that:</p>
<pre><code class="language-bash">CordovaEmbedded[31857:638683] Received Event: deviceready</code></pre>
<p>The second one allows to configure status bar, to set style, color etc.</p>
<p><img alt="" src="../user/pages/02.blog/integration-of-cordova-into-a-native-ios-project/image1.png" /></p>
<p>The configuration of the plugins can be changed in config.xml file. The default style of status bar in this Xcode template is transparent so we can change it and get transparent bar for the first tab (default one) and in solid color for the second one (Cordova application tab). This can prove that the project is configured properly and ready to further development.</p>
<h3>Integration with help of Cocoa Pods</h3>
<p><strong>1. To illustrate configuration of Cordova via CocoaPods we can use the same Xcode template - Tabbed Application</strong>. The test project can be found on <a href="https://github.com/yaroslav-v/cordova-embedded-ios">github</a>.</p>
<p><strong>2. Use <em>pod init</em> to create pod file</strong> and add all pods there:</p>
<pre><code class="language-cpp">pod 'Cordova' # Cordova framework and plugins
pod 'CordovaPlugin-console'
pod 'cordova-plugin-camera'
pod 'cordova-plugin-contacts'
pod 'cordova-plugin-device'
pod 'cordova-plugin-device-orientation'
pod 'cordova-plugin-device-motion'
pod 'cordova-plugin-globalization'
pod 'cordova-plugin-geolocation'
pod 'cordova-plugin-file'
pod 'cordova-plugin-media-capture'
pod 'cordova-plugin-network-information'
pod 'cordova-plugin-splashscreen'
pod 'cordova-plugin-inappbrowser'
pod 'cordova-plugin-file-transfer'
pod 'cordova-plugin-statusbar'
pod 'cordova-plugin-vibration'
pod 'cordova-plugin-wkwebview-engine'
pod 'phonegap-ios-template' # Cordova template </code></pre>
<p><strong>NB!</strong> I added all plugins because they are used into phonegap-ios-template template. Practically, you can add only necessary plugins but you have to change template's config.xml.</p>
<p><strong>3. Install pods</strong> with <em>pod install</em> command and open created .xcworkspace. Now you need to do step 4 from the previous section to adapt the project for Swift.</p>
<p><strong>4. There is an issue with configuration</strong> and you may see that build system will not find all necessary headers during the building process. To solve this issue you need to add pods root (c recursive flag) to Build Settings → User Header Search Paths:</p>
<pre><code class="language-cpp">"${PODS_ROOT}"</code></pre>
<p><strong>5. — 6. To check how the test project works</strong> you can repeat steps 5 and 6 from the previous section. It should work the same.</p>
        </div>

        
            
    
        <p class="prev-next">
                            <a class="button" href="../random.html"><i class="fa fa-chevron-left"></i> Next Post</a>
            
                            <a class="button" href="fingertron-demon-racing.html">Previous Post <i class="fa fa-chevron-right"></i></a>
                    </p>
    
    </div>
</div>
			</div>
			<div id="sidebar" class="block size-1-3 pure-u-1-3">
				
<div class="sidebar-content">
    <h4>Search</h4>
    <div class="search-wrapper">
    <form name="search" onSubmit="return validateSearch(event);">
        <input
            name="searchfield"
            class="search-input"
            type="text"
            pattern=".{3,}"
            required
            oninvalid="this.setCustomValidity('Please add at least 3 characters')" onchange="try{setCustomValidity('')}catch(e){}"
            placeholder="Search..."
            value=""
            data-search-input="/search/query"
        />
            </form>
    <script>
    function validateSearch(event) {
        var input = document.forms["search"]["searchfield"];
        var target = input.getAttribute('data-search-input');
        if (input.value.length >= 3) {
            event.preventDefault();
            window.location.href = target + ':' + input.value;
        } else {
            event.preventDefault();
        }
    }
    </script>
</div>
</div>
    <h4>Related Posts</h4>
    <ul class="related-pages">
                                <li>
                                    <span class="score">80</span>
                                <a href="build-android-mac-os.html" title="Build Android on Mac OS X">Build Android on Mac OS X</a>
            </li>
                                        <li>
                                    <span class="score">60</span>
                                <a href="../random.html" title=""Genie in a bottle" mobile games statistics">"Genie in a bottle" mobile games statistics</a>
            </li>
                                        <li>
                                    <span class="score">50</span>
                                <a href="fingertron-demon-racing.html" title="Fingertron Demon Racing">Fingertron Demon Racing</a>
            </li>
            </ul><div class="sidebar-content">
	<h4>Random Article</h4>
	<a class="button" href="../random.html"><i class="fa fa-retweet"></i> I'm Feeling Lucky!</a>
</div>
<div class="sidebar-content">
    <h4>Popular Tags</h4>
    
<span class="tags">
                    <a class="" href="./tag:ios.html">ios</a>
                    <a class="" href="./tag:games.html">games</a>
                    <a class="" href="./tag:development.html">development</a>
                    <a class="" href="./tag:android.html">android</a>
                    <a class="" href="./tag:swift.html">swift</a>
                    <a class="" href="./tag:webview.html">webview</a>
                    <a class="" href="./tag:cordova.html">cordova</a>
                    <a class="" href="./tag:hybrid%20apps.html">hybrid apps</a>
                    <a class="" href="./tag:statistics.html">statistics</a>
                    <a class="" href="./tag:build.html">build</a>
                    <a class="" href="./tag:macOS.html">macOS</a>
                    <a class="" href="./tag:app%20store.html">app store</a>
                    <a class="" href="./tag:google%20play.html">google play</a>
    </span>
</div>
<div class="sidebar-content">
    <h4>Archives</h4>
	<ul class="archives">

    <li>
    	<a href="./archives_month:jan_2020.html">
                <span class="label">1</span>
                <span class="archive_date">January 2020</span>
        </a>
    </li>
    <li>
    	<a href="./archives_month:jan_2018.html">
                <span class="label">1</span>
                <span class="archive_date">January 2018</span>
        </a>
    </li>
    <li>
    	<a href="./archives_month:sep_2017.html">
                <span class="label">1</span>
                <span class="archive_date">September 2017</span>
        </a>
    </li>
    <li>
    	<a href="./archives_month:apr_2017.html">
                <span class="label">1</span>
                <span class="archive_date">April 2017</span>
        </a>
    </li>
</ul>
</div>
<div class="sidebar-content syndicate">
    <h4>Syndicate</h4>
    <a class="button" href="../blog.atom"><i class="fa fa-rss-square"></i> Atom 1.0</a>
    <a class="button" href="../blog.rss"><i class="fa fa-rss-square"></i> RSS</a>
</div>
			</div>
		</div>
	        </section>
        
					<footer id="footer">
	<div class="totop">
		<span><a href="integration-of-cordova-into-a-native-ios-project.html#" id="toTop"><i class="fa fa-arrow-up"></i></a></span>
	</div>
	<p>Copyright &copy; Genie in a Bottle studio, 2011-2025</p>
</footer>
		    </div>
    <div class="sb-slidebar sb-left sb-width-thin">
        <div id="panel">
        
<ul class="navigation">
                                    <li class="">
                <a href="../index.html">
                                        Home
                </a>
            </li>
                                <li class="active">
                <a href="../blog.html">
                                        Blog
                </a>
            </li>
                                <li class="">
                <a href="../privacy-policy.html">
                                        Privacy Policy
                </a>
            </li>
                                <li class="">
                <a href="../berryboom.html">
                                        Berry Boom!
                </a>
            </li>
                                <li class="">
                <a href="../turbofinger.html">
                                        Turbofinger
                </a>
            </li>
                                <li class="">
                <a href="../fingertron.html">
                                        Fingertron
                </a>
            </li>
                    </ul>

        </div>
    </div>
            <!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter21321733 = new Ya.Metrika({id:21321733,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/21321733" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
        
            
        <script>
        $(function () {
            $(document).ready(function() {
              $.slidebars({
                hideControlClasses: true,
                scrollLock: true
              });
            });
        });
        </script>
    </body>
</html>
